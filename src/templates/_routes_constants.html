<script type="text/javascript">
    class Routes {
        constructor() {
            if (!Routes.instance) {
                // UTub routes

                this.createUTub = "{{url_for('utubs.create_utub')}}";
                this.deleteUTub = (utub_id) => 
                    "{{url_for('utubs.delete_utub', utub_id=-1)}}".replace("-1", utub_id);
                this.updateUTubName = (utub_id) =>
                    "{{url_for('utubs.update_utub_name', utub_id=-1)}}".replace("-1", utub_id);
                // 04/04/24 DP "update" --> "edit"
                this.updateUTubDescription = (utub_id) =>
                    "{{url_for('utubs.update_utub_desc', utub_id=-1)}}".replace("-1", utub_id);

                // URL routes
                this.getURL = (utub_id, utub_url_id) =>
                    "{{url_for('urls.get_url', utub_id=-1, utub_url_id=-2)}}"
                        .replace("-1", utub_id)
                        .replace("-2", utub_url_id);
                this.createURL = (utub_id) =>
                    "{{url_for('urls.create_url', utub_id=-1)}}".replace("-1", utub_id);
                this.deleteURL = (utub_id, utub_url_id) =>
                    "{{url_for('urls.delete_url', utub_id=-1, utub_url_id=-2)}}"
                        .replace("-1", utub_id)
                        .replace("-2", utub_url_id);
                this.updateURL = (utub_id, utub_url_id) =>
                    "{{url_for('urls.update_url', utub_id=-1, utub_url_id=-2)}}"
                        .replace("-1", utub_id)
                        .replace("-2", utub_url_id);
                this.updateURLTitle = (utub_id, utub_url_id) =>
                    "{{url_for('urls.update_url_title', utub_id=-1, utub_url_id=-2)}}"
                        .replace("-1", utub_id)
                        .replace("-2", utub_url_id);

                // UTub Url Tag routes
                this.createURLTag = (utub_id, utub_url_id) =>
                    "{{url_for('utub_url_tags.create_utub_url_tag', utub_id=-1, utub_url_id=-2)}}"
                        .replace("-1", utub_id)
                        .replace("-2", utub_url_id);
                this.deleteURLTag = (utub_id, utub_url_id, utub_url_tag_id) =>
                    "{{url_for('utub_url_tags.delete_utub_url_tag', utub_id=-1, utub_url_id=-2, utub_url_tag_id=-3)}}"
                        .replace("-1", utub_id)
                        .replace("-2", utub_url_id)
                        .replace("-3", utub_url_tag_id);

                // UTub Tag routes
                this.createUTubTag = (utub_id) =>
                    "{{url_for('utub_tags.create_utub_tag', utub_id=-1)}}"
                        .replace("-1", utub_id)

                // Member routes
                this.createMember = (utub_id) => 
                    "{{url_for('members.create_member', utub_id=-1)}}".replace("-1", utub_id);
                this.removeMember = (utub_id, user_id) => 
                    "{{url_for('members.remove_member', utub_id=-1, user_id=-4)}}"
                        .replace("-1", utub_id)
                        .replace("-4", user_id);

                // Splash routes
                this.login = "{{url_for('splash.login')}}";
                this.register = "{{url_for('splash.register_user')}}";
                this.confirmEmailAfterRegister = "{{url_for('splash.confirm_email_after_register')}}";
                this.sendValidationEmail = "{{url_for('splash.send_validation_email')}}";
                this.forgotPassword = "{{url_for('splash.forgot_password')}}";
                
                // Util routes
                this.errorPage = "{{url_for('splash.error_page')}}";
                
                // Logout
                this.logout = "{{url_for('users.logout')}}";

                Routes.instance = this;
            }

            return Routes.instance;
        }
    }
    const routes = new Routes;

    class Constants {
        constructor() {
            if (!Constants.instance) {

                // UTub constants
                this.UTUBS_MAX_NAME_LENGTH = {{CONSTANTS.UTUBS.MAX_NAME_LENGTH}};
                this.UTUBS_MIN_NAME_LENGTH = {{CONSTANTS.UTUBS.MIN_NAME_LENGTH}};
                this.UTUBS_MAX_DESCRIPTION_LENGTH = {{CONSTANTS.UTUBS.MAX_DESCRIPTION_LENGTH}}

                // URL Constants
                this.URLS_TITLE_MIN_LENGTH = {{CONSTANTS.URLS.MIN_URL_TITLE_LENGTH}}
                this.URLS_TITLE_MAX_LENGTH = {{CONSTANTS.URLS.MAX_URL_TITLE_LENGTH}}
                this.URLS_MIN_LENGTH = {{CONSTANTS.URLS.MIN_URL_LENGTH}}
                this.URLS_MAX_LENGTH = {{CONSTANTS.URLS.MAX_URL_LENGTH}}

                // Tag Constants
                this.TAGS_MIN_LENGTH = {{CONSTANTS.TAGS.MIN_TAG_LENGTH}}
                this.TAGS_MAX_LENGTH = {{CONSTANTS.TAGS.MAX_TAG_LENGTH}}
                this.TAGS_MAX_ON_URLS = {{CONSTANTS.TAGS.MAX_URL_TAGS}}

                Constants.instance = this;
            }

            return Constants.instance;
        }
    }
    const CONSTANTS = new Constants;
</script>
